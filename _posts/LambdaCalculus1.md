---
title      : One λ-calculus, many times...
date       : 2016-03-09 12:00:00
categories : [agda]
tags       : [agda]
published  : false
---

Previously, I mentioned that one of the most common Agda blogposts
you'll find out there is implementing the λ-calculus.

<div style="display:none;">
<pre class="Agda"><a name="308" class="Keyword">module</a><a name="314"> </a><a name="315" href="#1" class="Module">LambdaCalculus1</a><a name="330"> </a><a name="331" class="Keyword">where</a></pre>
</div>

<pre class="Agda"><a name="369" class="Keyword">module</a><a name="375"> </a><a name="376" href="#376" class="Module">SetAntecedent</a><a name="389"> </a><a name="390" class="Symbol">(</a><a name="391" href="#391" class="Bound">Atom</a><a name="395"> </a><a name="396" class="Symbol">:</a><a name="397"> </a><a name="398" class="PrimitiveType">Set</a><a name="401" class="Symbol">)</a><a name="402"> </a><a name="403" class="Keyword">where</a></pre>

<pre class="Agda">  <a name="436" class="Keyword">data</a><a name="440"> </a><a name="441" href="#315" class="Module">Type</a><a name="445"> </a><a name="446" class="Symbol">:</a><a name="447"> </a><a name="448" class="PrimitiveType">Set</a><a name="451"> </a><a name="452" class="Keyword">where</a><a name="457">
    </a><a name="462" href="#462" class="InductiveConstructor">El</a><a name="464">  </a><a name="466" class="Symbol">:</a><a name="467"> </a><a name="468" href="#391" class="Bound">Atom</a><a name="472"> </a><a name="473" class="Symbol">→</a><a name="474"> </a><a name="475" href="#441" class="Datatype">Type</a><a name="479">
    </a><a name="484" href="#484" class="InductiveConstructor Operator">_⇒_</a><a name="487"> </a><a name="488" class="Symbol">:</a><a name="489"> </a><a name="490" href="#441" class="Datatype">Type</a><a name="494"> </a><a name="495" class="Symbol">→</a><a name="496"> </a><a name="497" href="#441" class="Datatype">Type</a><a name="501"> </a><a name="502" class="Symbol">→</a><a name="503"> </a><a name="504" href="#441" class="Datatype">Type</a></pre>


<pre class="Agda">  <a name="537" class="Keyword">open</a><a name="541"> </a><a name="542" class="Keyword">import</a><a name="548"> </a><a name="549" href="https://agda.github.io/agda-stdlib/Data.Nat.html#1" class="Module" target="_blank">Data.Nat</a><a name="557">             </a><a name="570" class="Keyword">using</a><a name="575"> </a><a name="576" class="Symbol">(</a><a name="577">ℕ</a><a name="578" class="Symbol">;</a><a name="579"> suc</a><a name="583" class="Symbol">;</a><a name="584"> zero</a><a name="589" class="Symbol">)</a><a name="590">
  </a><a name="593" class="Keyword">open</a><a name="597"> </a><a name="598" class="Keyword">import</a><a name="604"> </a><a name="605" href="https://agda.github.io/agda-stdlib/Data.Fin.html#1" class="Module" target="_blank">Data.Fin</a><a name="613">             </a><a name="626" class="Keyword">using</a><a name="631"> </a><a name="632" class="Symbol">(</a><a name="633">Fin</a><a name="636" class="Symbol">;</a><a name="637"> suc</a><a name="641" class="Symbol">;</a><a name="642"> zero</a><a name="647" class="Symbol">)</a><a name="648">
  </a><a name="651" class="Keyword">open</a><a name="655"> </a><a name="656" class="Keyword">import</a><a name="662"> </a><a name="663" href="https://agda.github.io/agda-stdlib/Data.List.html#1" class="Module" target="_blank">Data.List</a><a name="672">            </a><a name="684" class="Keyword">using</a><a name="689"> </a><a name="690" class="Symbol">(</a><a name="691">List</a><a name="695" class="Symbol">;</a><a name="696"> _∷_</a><a name="700" class="Symbol">;</a><a name="701"> []</a><a name="704" class="Symbol">;</a><a name="705"> _++_</a><a name="710" class="Symbol">)</a><a name="711">
  </a><a name="714" class="Keyword">open</a><a name="718"> </a><a name="719" class="Keyword">import</a><a name="725"> </a><a name="726" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1" class="Module" target="_blank">Data.List.Any</a><a name="739">        </a><a name="747" class="Keyword">using</a><a name="752"> </a><a name="753" class="Symbol">(</a><a name="754" class="Keyword">module</a><a name="760"> Membership</a><a name="771" class="Symbol">;</a><a name="772"> here</a><a name="777" class="Symbol">;</a><a name="778"> there</a><a name="784" class="Symbol">)</a><a name="785">
  </a><a name="788" class="Keyword">open</a><a name="792"> </a><a name="793" class="Keyword">import</a><a name="799"> </a><a name="800" href="https://agda.github.io/agda-stdlib/Function.Equivalence.html#1" class="Module" target="_blank">Function.Equivalence</a><a name="820"> </a><a name="821" class="Keyword">using</a><a name="826"> </a><a name="827" class="Symbol">(</a><a name="828">_⇔_</a><a name="831" class="Symbol">;</a><a name="832"> id</a><a name="835" class="Symbol">;</a><a name="836"> map</a><a name="840" class="Symbol">;</a><a name="841"> equivalence</a><a name="853" class="Symbol">)</a><a name="854">
  </a><a name="857" class="Keyword">open</a><a name="861"> </a><a name="862" class="Keyword">import</a><a name="868"> </a><a name="869" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1" class="Module" target="_blank">Relation.Binary.PropositionalEquality</a><a name="906">
  </a><a name="909" class="Keyword">open</a><a name="913"> </a><a name="914" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#2298" class="Module" target="_blank">Membership</a><a name="924"> </a><a name="925" class="Symbol">(</a><a name="926" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1526" class="Function" target="_blank">setoid</a><a name="932"> </a><a name="933" href="#441" class="Datatype">Type</a><a name="937" class="Symbol">)</a><a name="938">    </a><a name="942" class="Keyword">using</a><a name="947"> </a><a name="948" class="Symbol">(</a><a name="949">_∈_</a><a name="952" class="Symbol">;</a><a name="953"> _⊆_</a><a name="957" class="Symbol">)</a></pre>


<pre class="Agda">  <a name="987" class="Keyword">infix</a><a name="992"> </a><a name="993" class="Number">4</a><a name="994"> _⊢_

  </a><a name="1002" class="Keyword">data</a><a name="1006"> </a><a name="1007" href="#315" class="Module">Sequent</a><a name="1014"> </a><a name="1015" class="Symbol">:</a><a name="1016"> </a><a name="1017" class="PrimitiveType">Set</a><a name="1020"> </a><a name="1021" class="Keyword">where</a><a name="1026">
    </a><a name="1031" href="#1031" class="InductiveConstructor Operator">_⊢_</a><a name="1034"> </a><a name="1035" class="Symbol">:</a><a name="1036"> </a><a name="1037" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#669" class="Datatype" target="_blank">List</a><a name="1041"> </a><a name="1042" href="#441" class="Datatype">Type</a><a name="1046"> </a><a name="1047" class="Symbol">→</a><a name="1048"> </a><a name="1049" href="#441" class="Datatype">Type</a><a name="1053"> </a><a name="1054" class="Symbol">→</a><a name="1055"> </a><a name="1056" href="#1007" class="Datatype">Sequent</a></pre>

<pre class="Agda">  <a name="1091" class="Keyword">infix</a><a name="1096"> </a><a name="1097" class="Number">3</a><a name="1098"> ND_

  </a><a name="1106" class="Keyword">data</a><a name="1110"> </a><a name="1111" href="#315" class="Module">ND_</a><a name="1114"> </a><a name="1115" class="Symbol">:</a><a name="1116"> </a><a name="1117" href="#1007" class="Datatype">Sequent</a><a name="1124"> </a><a name="1125" class="Symbol">→</a><a name="1126"> </a><a name="1127" class="PrimitiveType">Set</a><a name="1130"> </a><a name="1131" class="Keyword">where</a><a name="1136">
    </a><a name="1141" href="#1141" class="InductiveConstructor">ax</a><a name="1143"> </a><a name="1144" class="Symbol">:</a><a name="1145"> </a><a name="1146" class="Symbol">∀</a><a name="1147"> </a><a name="1148" class="Symbol">{</a><a name="1149" href="#1149" class="Bound">A</a><a name="1150">   </a><a name="1153" href="#1153" class="Bound">Γ</a><a name="1154" class="Symbol">}</a><a name="1155"> </a><a name="1156" class="Symbol">→</a><a name="1157"> </a><a name="1158" href="#1149" class="Bound">A</a><a name="1159"> </a><a name="1160" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#2920" class="Function Operator" target="_blank">∈</a><a name="1161"> </a><a name="1162" href="#1153" class="Bound">Γ</a><a name="1163"> </a><a name="1164" class="Symbol">→</a><a name="1165"> </a><a name="1166" href="#1111" class="Datatype Operator">ND</a><a name="1168"> </a><a name="1169" href="#1153" class="Bound">Γ</a><a name="1170"> </a><a name="1171" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1172"> </a><a name="1173" href="#1149" class="Bound">A</a><a name="1174">
    </a><a name="1179" href="#1179" class="InductiveConstructor">⇒i</a><a name="1181"> </a><a name="1182" class="Symbol">:</a><a name="1183"> </a><a name="1184" class="Symbol">∀</a><a name="1185"> </a><a name="1186" class="Symbol">{</a><a name="1187" href="#1187" class="Bound">A</a><a name="1188"> </a><a name="1189" href="#1189" class="Bound">B</a><a name="1190"> </a><a name="1191" href="#1191" class="Bound">Γ</a><a name="1192" class="Symbol">}</a><a name="1193"> </a><a name="1194" class="Symbol">→</a><a name="1195"> </a><a name="1196" href="#1111" class="Datatype Operator">ND</a><a name="1198"> </a><a name="1199" href="#1187" class="Bound">A</a><a name="1200"> </a><a name="1201" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="1202"> </a><a name="1203" href="#1191" class="Bound">Γ</a><a name="1204"> </a><a name="1205" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1206"> </a><a name="1207" href="#1189" class="Bound">B</a><a name="1208"> </a><a name="1209" class="Symbol">→</a><a name="1210"> </a><a name="1211" href="#1111" class="Datatype Operator">ND</a><a name="1213"> </a><a name="1214" href="#1191" class="Bound">Γ</a><a name="1215"> </a><a name="1216" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1217"> </a><a name="1218" href="#1187" class="Bound">A</a><a name="1219"> </a><a name="1220" href="#484" class="InductiveConstructor Operator">⇒</a><a name="1221"> </a><a name="1222" href="#1189" class="Bound">B</a><a name="1223">
    </a><a name="1228" href="#1228" class="InductiveConstructor">⇒e</a><a name="1230"> </a><a name="1231" class="Symbol">:</a><a name="1232"> </a><a name="1233" class="Symbol">∀</a><a name="1234"> </a><a name="1235" class="Symbol">{</a><a name="1236" href="#1236" class="Bound">A</a><a name="1237"> </a><a name="1238" href="#1238" class="Bound">B</a><a name="1239"> </a><a name="1240" href="#1240" class="Bound">Γ</a><a name="1241" class="Symbol">}</a><a name="1242"> </a><a name="1243" class="Symbol">→</a><a name="1244"> </a><a name="1245" href="#1111" class="Datatype Operator">ND</a><a name="1247"> </a><a name="1248" href="#1240" class="Bound">Γ</a><a name="1249"> </a><a name="1250" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1251"> </a><a name="1252" href="#1236" class="Bound">A</a><a name="1253"> </a><a name="1254" href="#484" class="InductiveConstructor Operator">⇒</a><a name="1255"> </a><a name="1256" href="#1238" class="Bound">B</a><a name="1257"> </a><a name="1258" class="Symbol">→</a><a name="1259"> </a><a name="1260" href="#1111" class="Datatype Operator">ND</a><a name="1262"> </a><a name="1263" href="#1240" class="Bound">Γ</a><a name="1264"> </a><a name="1265" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1266"> </a><a name="1267" href="#1236" class="Bound">A</a><a name="1268"> </a><a name="1269" class="Symbol">→</a><a name="1270"> </a><a name="1271" href="#1111" class="Datatype Operator">ND</a><a name="1273"> </a><a name="1274" href="#1240" class="Bound">Γ</a><a name="1275"> </a><a name="1276" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1277"> </a><a name="1278" href="#1238" class="Bound">B</a></pre>

\\[
    \\frac{A \\in \\Gamma}{\\Gamma \\vdash A}{\\small ax}
    \\quad
    \\frac{A , \\Gamma \\vdash B}{\\Gamma \\vdash A \\Rightarrow B}{\\small{\\Rightarrow}\\!i}
    \\quad
    \\frac{\\Gamma \\vdash A \Rightarrow B \\quad \\Gamma \\vdash A}{\\Gamma \\vdash B}{\\small{\\Rightarrow}\\!e}
\\]

<pre class="Agda">  <a name="1606" class="Keyword">infix</a><a name="1611"> </a><a name="1612" class="Number">3</a><a name="1613"> SC_

  </a><a name="1621" class="Keyword">data</a><a name="1625"> </a><a name="1626" href="#315" class="Module">SC_</a><a name="1629"> </a><a name="1630" class="Symbol">:</a><a name="1631"> </a><a name="1632" href="#1007" class="Datatype">Sequent</a><a name="1639"> </a><a name="1640" class="Symbol">→</a><a name="1641"> </a><a name="1642" class="PrimitiveType">Set</a><a name="1645"> </a><a name="1646" class="Keyword">where</a><a name="1651">
    </a><a name="1656" href="#1656" class="InductiveConstructor">ax</a><a name="1658">  </a><a name="1660" class="Symbol">:</a><a name="1661"> </a><a name="1662" class="Symbol">∀</a><a name="1663"> </a><a name="1664" class="Symbol">{</a><a name="1665" href="#1665" class="Bound">A</a><a name="1666">     </a><a name="1671" href="#1671" class="Bound">Γ</a><a name="1672" class="Symbol">}</a><a name="1673"> </a><a name="1674" class="Symbol">→</a><a name="1675"> </a><a name="1676" href="#1665" class="Bound">A</a><a name="1677"> </a><a name="1678" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#2920" class="Function Operator" target="_blank">∈</a><a name="1679"> </a><a name="1680" href="#1671" class="Bound">Γ</a><a name="1681"> </a><a name="1682" class="Symbol">→</a><a name="1683"> </a><a name="1684" href="#1626" class="Datatype Operator">SC</a><a name="1686"> </a><a name="1687" href="#1671" class="Bound">Γ</a><a name="1688"> </a><a name="1689" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1690"> </a><a name="1691" href="#1665" class="Bound">A</a><a name="1692">
    </a><a name="1697" href="#1697" class="InductiveConstructor">cut</a><a name="1700"> </a><a name="1701" class="Symbol">:</a><a name="1702"> </a><a name="1703" class="Symbol">∀</a><a name="1704"> </a><a name="1705" class="Symbol">{</a><a name="1706" href="#1706" class="Bound">A</a><a name="1707"> </a><a name="1708" href="#1708" class="Bound">B</a><a name="1709">   </a><a name="1712" href="#1712" class="Bound">Γ</a><a name="1713" class="Symbol">}</a><a name="1714"> </a><a name="1715" class="Symbol">→</a><a name="1716"> </a><a name="1717" href="#1626" class="Datatype Operator">SC</a><a name="1719"> </a><a name="1720" href="#1712" class="Bound">Γ</a><a name="1721"> </a><a name="1722" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1723"> </a><a name="1724" href="#1706" class="Bound">A</a><a name="1725"> </a><a name="1726" class="Symbol">→</a><a name="1727"> </a><a name="1728" href="#1626" class="Datatype Operator">SC</a><a name="1730"> </a><a name="1731" href="#1706" class="Bound">A</a><a name="1732"> </a><a name="1733" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="1734"> </a><a name="1735" href="#1712" class="Bound">Γ</a><a name="1736"> </a><a name="1737" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1738"> </a><a name="1739" href="#1708" class="Bound">B</a><a name="1740"> </a><a name="1741" class="Symbol">→</a><a name="1742"> </a><a name="1743" href="#1626" class="Datatype Operator">SC</a><a name="1745"> </a><a name="1746" href="#1712" class="Bound">Γ</a><a name="1747"> </a><a name="1748" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1749"> </a><a name="1750" href="#1708" class="Bound">B</a><a name="1751">
    </a><a name="1756" href="#1756" class="InductiveConstructor">⇒l</a><a name="1758">  </a><a name="1760" class="Symbol">:</a><a name="1761"> </a><a name="1762" class="Symbol">∀</a><a name="1763"> </a><a name="1764" class="Symbol">{</a><a name="1765" href="#1765" class="Bound">A</a><a name="1766"> </a><a name="1767" href="#1767" class="Bound">B</a><a name="1768"> </a><a name="1769" href="#1769" class="Bound">C</a><a name="1770"> </a><a name="1771" href="#1771" class="Bound">Γ</a><a name="1772" class="Symbol">}</a><a name="1773"> </a><a name="1774" class="Symbol">→</a><a name="1775"> </a><a name="1776" href="#1626" class="Datatype Operator">SC</a><a name="1778"> </a><a name="1779" href="#1771" class="Bound">Γ</a><a name="1780"> </a><a name="1781" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1782"> </a><a name="1783" href="#1765" class="Bound">A</a><a name="1784"> </a><a name="1785" class="Symbol">→</a><a name="1786"> </a><a name="1787" href="#1626" class="Datatype Operator">SC</a><a name="1789"> </a><a name="1790" href="#1767" class="Bound">B</a><a name="1791"> </a><a name="1792" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="1793"> </a><a name="1794" href="#1771" class="Bound">Γ</a><a name="1795"> </a><a name="1796" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1797"> </a><a name="1798" href="#1769" class="Bound">C</a><a name="1799"> </a><a name="1800" class="Symbol">→</a><a name="1801"> </a><a name="1802" href="#1626" class="Datatype Operator">SC</a><a name="1804"> </a><a name="1805" href="#1765" class="Bound">A</a><a name="1806"> </a><a name="1807" href="#484" class="InductiveConstructor Operator">⇒</a><a name="1808"> </a><a name="1809" href="#1767" class="Bound">B</a><a name="1810"> </a><a name="1811" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="1812"> </a><a name="1813" href="#1771" class="Bound">Γ</a><a name="1814"> </a><a name="1815" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1816"> </a><a name="1817" href="#1769" class="Bound">C</a><a name="1818">
    </a><a name="1823" href="#1823" class="InductiveConstructor">⇒r</a><a name="1825">  </a><a name="1827" class="Symbol">:</a><a name="1828"> </a><a name="1829" class="Symbol">∀</a><a name="1830"> </a><a name="1831" class="Symbol">{</a><a name="1832" href="#1832" class="Bound">A</a><a name="1833"> </a><a name="1834" href="#1834" class="Bound">B</a><a name="1835">   </a><a name="1838" href="#1838" class="Bound">Γ</a><a name="1839" class="Symbol">}</a><a name="1840"> </a><a name="1841" class="Symbol">→</a><a name="1842"> </a><a name="1843" href="#1626" class="Datatype Operator">SC</a><a name="1845"> </a><a name="1846" href="#1832" class="Bound">A</a><a name="1847"> </a><a name="1848" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="1849"> </a><a name="1850" href="#1838" class="Bound">Γ</a><a name="1851"> </a><a name="1852" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1853"> </a><a name="1854" href="#1834" class="Bound">B</a><a name="1855"> </a><a name="1856" class="Symbol">→</a><a name="1857"> </a><a name="1858" href="#1626" class="Datatype Operator">SC</a><a name="1860"> </a><a name="1861" href="#1838" class="Bound">Γ</a><a name="1862"> </a><a name="1863" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="1864"> </a><a name="1865" href="#1832" class="Bound">A</a><a name="1866"> </a><a name="1867" href="#484" class="InductiveConstructor Operator">⇒</a><a name="1868"> </a><a name="1869" href="#1834" class="Bound">B</a></pre>

\\[
    \\frac{A \\in \\Gamma}{\\Gamma \\vdash A}{\\small ax}
    \\quad
    \\frac{\\Gamma \\vdash A \\quad A , \\Gamma \\vdash B}{\\Gamma \\vdash B}{\\small cut}
    \\quad
    \\frac{\\Gamma \\vdash A \\quad B , \\Gamma \\vdash C}{A \\Rightarrow  B , \\Gamma \\vdash C}{\\small{\\Rightarrow}\\!l}
    \\quad
    \\frac{A , \\Gamma \\vdash B}{\\Gamma \\vdash A \\Rightarrow B}{\\small{\\Rightarrow}\\!r}
\\]

<pre class="Agda">  <a name="2309" class="Keyword">pattern</a><a name="2316"> </a><a name="2317" href="#2317" class="InductiveConstructor">ax₀</a><a name="2320"> </a><a name="2321" class="Symbol">=</a><a name="2322"> </a><a name="2323" class="InductiveConstructor">ax</a><a name="2325"> </a><a name="2326" class="Symbol">(</a><a name="2327" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1174" class="InductiveConstructor" target="_blank">here</a><a name="2331"> </a><a name="2332" href="https://agda.github.io/agda-stdlib/Relation.Binary.Core.html#4547" class="InductiveConstructor" target="_blank">refl</a><a name="2336" class="Symbol">)</a><a name="2337">
  </a><a name="2340" class="Keyword">pattern</a><a name="2347"> </a><a name="2348" href="#2348" class="InductiveConstructor">ax₁</a><a name="2351"> </a><a name="2352" class="Symbol">=</a><a name="2353"> </a><a name="2354" class="InductiveConstructor">ax</a><a name="2356"> </a><a name="2357" class="Symbol">(</a><a name="2358" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a><a name="2363"> </a><a name="2364" class="Symbol">(</a><a name="2365" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1174" class="InductiveConstructor" target="_blank">here</a><a name="2369"> </a><a name="2370" href="https://agda.github.io/agda-stdlib/Relation.Binary.Core.html#4547" class="InductiveConstructor" target="_blank">refl</a><a name="2374" class="Symbol">))</a><a name="2376">
  </a><a name="2379" class="Keyword">pattern</a><a name="2386"> </a><a name="2387" href="#2387" class="InductiveConstructor">ax₂</a><a name="2390"> </a><a name="2391" class="Symbol">=</a><a name="2392"> </a><a name="2393" class="InductiveConstructor">ax</a><a name="2395"> </a><a name="2396" class="Symbol">(</a><a name="2397" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a><a name="2402"> </a><a name="2403" class="Symbol">(</a><a name="2404" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a><a name="2409"> </a><a name="2410" class="Symbol">(</a><a name="2411" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1174" class="InductiveConstructor" target="_blank">here</a><a name="2415"> </a><a name="2416" href="https://agda.github.io/agda-stdlib/Relation.Binary.Core.html#4547" class="InductiveConstructor" target="_blank">refl</a><a name="2420" class="Symbol">)))</a></pre>

<pre class="Agda">  <a name="2476" href="#2476" class="Function">struct</a><a name="2482"> </a><a name="2483" class="Symbol">:</a><a name="2484"> </a><a name="2485" class="Symbol">∀</a><a name="2486"> </a><a name="2487" class="Symbol">{</a><a name="2488" href="#2488" class="Bound">A</a><a name="2489"> </a><a name="2490" href="#2490" class="Bound">Γ</a><a name="2491"> </a><a name="2492" href="#2492" class="Bound">Γ′</a><a name="2494" class="Symbol">}</a><a name="2495"> </a><a name="2496" class="Symbol">→</a><a name="2497"> </a><a name="2498" href="#2490" class="Bound">Γ</a><a name="2499"> </a><a name="2500" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#3056" class="Function Operator" target="_blank">⊆</a><a name="2501"> </a><a name="2502" href="#2492" class="Bound">Γ′</a><a name="2504"> </a><a name="2505" class="Symbol">→</a><a name="2506"> </a><a name="2507" href="#1111" class="Datatype Operator">ND</a><a name="2509"> </a><a name="2510" href="#2490" class="Bound">Γ</a><a name="2511"> </a><a name="2512" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="2513"> </a><a name="2514" href="#2488" class="Bound">A</a><a name="2515"> </a><a name="2516" class="Symbol">→</a><a name="2517"> </a><a name="2518" href="#1111" class="Datatype Operator">ND</a><a name="2520"> </a><a name="2521" href="#2492" class="Bound">Γ′</a><a name="2523"> </a><a name="2524" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="2525"> </a><a name="2526" href="#2488" class="Bound">A</a><a name="2527">
  </a><a name="2530" href="#2476" class="Function">struct</a><a name="2536"> </a><a name="2537" href="#2537" class="Bound">Γ⊆Γ′</a><a name="2541"> </a><a name="2542" class="Symbol">(</a><a name="2543" href="#1141" class="InductiveConstructor">ax</a><a name="2545"> </a><a name="2546" href="#2546" class="Bound">x</a><a name="2547" class="Symbol">)</a><a name="2548">   </a><a name="2551" class="Symbol">=</a><a name="2552"> </a><a name="2553" href="#1141" class="InductiveConstructor">ax</a><a name="2555"> </a><a name="2556" class="Symbol">(</a><a name="2557" href="#2537" class="Bound">Γ⊆Γ′</a><a name="2561"> </a><a name="2562" href="#2546" class="Bound">x</a><a name="2563" class="Symbol">)</a><a name="2564">
  </a><a name="2567" href="#2476" class="Function">struct</a><a name="2573"> </a><a name="2574" href="#2574" class="Bound">Γ⊆Γ′</a><a name="2578"> </a><a name="2579" class="Symbol">(</a><a name="2580" href="#1179" class="InductiveConstructor">⇒i</a><a name="2582"> </a><a name="2583" href="#2583" class="Bound">f</a><a name="2584" class="Symbol">)</a><a name="2585">   </a><a name="2588" class="Symbol">=</a><a name="2589"> </a><a name="2590" href="#1179" class="InductiveConstructor">⇒i</a><a name="2592"> </a><a name="2593" class="Symbol">(</a><a name="2594" href="#2476" class="Function">struct</a><a name="2600"> </a><a name="2601" class="Symbol">(</a><a name="2602" href="#2637" class="Function">∷-resp-⊆</a><a name="2610"> </a><a name="2611" href="#2574" class="Bound">Γ⊆Γ′</a><a name="2615" class="Symbol">)</a><a name="2616"> </a><a name="2617" href="#2583" class="Bound">f</a><a name="2618" class="Symbol">)</a><a name="2619">
    </a><a name="2624" class="Keyword">where</a><a name="2629">

      </a><a name="2637" href="#2637" class="Function">∷-resp-⊆</a><a name="2645"> </a><a name="2646" class="Symbol">:</a><a name="2647"> </a><a name="2648" class="Symbol">∀</a><a name="2649"> </a><a name="2650" class="Symbol">{</a><a name="2651" href="#2651" class="Bound">A</a><a name="2652"> </a><a name="2653" href="#2653" class="Bound">Γ</a><a name="2654"> </a><a name="2655" href="#2655" class="Bound">Γ′</a><a name="2657" class="Symbol">}</a><a name="2658"> </a><a name="2659" class="Symbol">→</a><a name="2660"> </a><a name="2661" href="#2653" class="Bound">Γ</a><a name="2662"> </a><a name="2663" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#3056" class="Function Operator" target="_blank">⊆</a><a name="2664"> </a><a name="2665" href="#2655" class="Bound">Γ′</a><a name="2667"> </a><a name="2668" class="Symbol">→</a><a name="2669"> </a><a name="2670" href="#2651" class="Bound">A</a><a name="2671"> </a><a name="2672" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="2673"> </a><a name="2674" href="#2653" class="Bound">Γ</a><a name="2675"> </a><a name="2676" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#3056" class="Function Operator" target="_blank">⊆</a><a name="2677"> </a><a name="2678" href="#2651" class="Bound">A</a><a name="2679"> </a><a name="2680" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="2681"> </a><a name="2682" href="#2655" class="Bound">Γ′</a><a name="2684">
      </a><a name="2691" href="#2637" class="Function">∷-resp-⊆</a><a name="2699"> </a><a name="2700" href="#2700" class="Bound">Γ⊆Γ′</a><a name="2704"> </a><a name="2705" class="Symbol">(</a><a name="2706" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1174" class="InductiveConstructor" target="_blank">here</a><a name="2710">  </a><a name="2712" href="#2712" class="Bound">x</a><a name="2713" class="Symbol">)</a><a name="2714"> </a><a name="2715" class="Symbol">=</a><a name="2716"> </a><a name="2717" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1174" class="InductiveConstructor" target="_blank">here</a><a name="2721"> </a><a name="2722" href="#2712" class="Bound">x</a><a name="2723">
      </a><a name="2730" href="#2637" class="Function">∷-resp-⊆</a><a name="2738"> </a><a name="2739" href="#2739" class="Bound">Γ⊆Γ′</a><a name="2743"> </a><a name="2744" class="Symbol">(</a><a name="2745" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a><a name="2750"> </a><a name="2751" href="#2751" class="Bound">x</a><a name="2752" class="Symbol">)</a><a name="2753"> </a><a name="2754" class="Symbol">=</a><a name="2755"> </a><a name="2756" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a><a name="2761"> </a><a name="2762" class="Symbol">(</a><a name="2763" href="#2739" class="Bound">Γ⊆Γ′</a><a name="2767"> </a><a name="2768" href="#2751" class="Bound">x</a><a name="2769" class="Symbol">)</a><a name="2770">

  </a><a name="2774" href="#2476" class="Function">struct</a><a name="2780"> </a><a name="2781" href="#2781" class="Bound">Γ⊆Γ′</a><a name="2785"> </a><a name="2786" class="Symbol">(</a><a name="2787" href="#1228" class="InductiveConstructor">⇒e</a><a name="2789"> </a><a name="2790" href="#2790" class="Bound">f</a><a name="2791"> </a><a name="2792" href="#2792" class="Bound">g</a><a name="2793" class="Symbol">)</a><a name="2794"> </a><a name="2795" class="Symbol">=</a><a name="2796"> </a><a name="2797" href="#1228" class="InductiveConstructor">⇒e</a><a name="2799"> </a><a name="2800" class="Symbol">(</a><a name="2801" href="#2476" class="Function">struct</a><a name="2807"> </a><a name="2808" href="#2781" class="Bound">Γ⊆Γ′</a><a name="2812"> </a><a name="2813" href="#2790" class="Bound">f</a><a name="2814" class="Symbol">)</a><a name="2815"> </a><a name="2816" class="Symbol">(</a><a name="2817" href="#2476" class="Function">struct</a><a name="2823"> </a><a name="2824" href="#2781" class="Bound">Γ⊆Γ′</a><a name="2828"> </a><a name="2829" href="#2792" class="Bound">g</a><a name="2830" class="Symbol">)</a></pre>

<pre class="Agda">  <a name="2859" href="#2859" class="Function">weak</a><a name="2863"> </a><a name="2864" class="Symbol">:</a><a name="2865"> </a><a name="2866" class="Symbol">∀</a><a name="2867"> </a><a name="2868" class="Symbol">{</a><a name="2869" href="#2869" class="Bound">A</a><a name="2870"> </a><a name="2871" href="#2871" class="Bound">B</a><a name="2872"> </a><a name="2873" href="#2873" class="Bound">Γ</a><a name="2874" class="Symbol">}</a><a name="2875"> </a><a name="2876" class="Symbol">→</a><a name="2877"> </a><a name="2878" href="#1111" class="Datatype Operator">ND</a><a name="2880"> </a><a name="2881" href="#2873" class="Bound">Γ</a><a name="2882"> </a><a name="2883" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="2884"> </a><a name="2885" href="#2871" class="Bound">B</a><a name="2886"> </a><a name="2887" class="Symbol">→</a><a name="2888"> </a><a name="2889" href="#1111" class="Datatype Operator">ND</a><a name="2891"> </a><a name="2892" href="#2869" class="Bound">A</a><a name="2893"> </a><a name="2894" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="2895"> </a><a name="2896" href="#2873" class="Bound">Γ</a><a name="2897"> </a><a name="2898" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="2899"> </a><a name="2900" href="#2871" class="Bound">B</a><a name="2901">
  </a><a name="2904" href="#2859" class="Function">weak</a><a name="2908"> </a><a name="2909" class="Symbol">=</a><a name="2910"> </a><a name="2911" href="#2476" class="Function">struct</a><a name="2917"> </a><a name="2918" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a></pre>

<pre class="Agda">  <a name="2951" class="Keyword">module</a><a name="2957"> </a><a name="2958" href="#2958" class="Module">ND⇔SC</a><a name="2963"> </a><a name="2964" class="Keyword">where</a><a name="2969">

    </a><a name="2975" href="#2975" class="Function">⟹</a><a name="2976"> </a><a name="2977" class="Symbol">:</a><a name="2978"> </a><a name="2979" class="Symbol">∀</a><a name="2980"> </a><a name="2981" class="Symbol">{</a><a name="2982" href="#2982" class="Bound">S</a><a name="2983" class="Symbol">}</a><a name="2984"> </a><a name="2985" class="Symbol">→</a><a name="2986"> </a><a name="2987" href="#1111" class="Datatype Operator">ND</a><a name="2989"> </a><a name="2990" href="#2982" class="Bound">S</a><a name="2991"> </a><a name="2992" class="Symbol">→</a><a name="2993"> </a><a name="2994" href="#1626" class="Datatype Operator">SC</a><a name="2996"> </a><a name="2997" href="#2982" class="Bound">S</a><a name="2998">
    </a><a name="3003" href="#2975" class="Function">⟹</a><a name="3004"> </a><a name="3005" class="Symbol">(</a><a name="3006" href="#1141" class="InductiveConstructor">ax</a><a name="3008">  </a><a name="3010" href="#3010" class="Bound">x</a><a name="3011" class="Symbol">)</a><a name="3012">   </a><a name="3015" class="Symbol">=</a><a name="3016"> </a><a name="3017" href="#1656" class="InductiveConstructor">ax</a><a name="3019"> </a><a name="3020" href="#3010" class="Bound">x</a><a name="3021">
    </a><a name="3026" href="#2975" class="Function">⟹</a><a name="3027"> </a><a name="3028" class="Symbol">(</a><a name="3029" href="#1179" class="InductiveConstructor">⇒i</a><a name="3031">  </a><a name="3033" href="#3033" class="Bound">f</a><a name="3034" class="Symbol">)</a><a name="3035">   </a><a name="3038" class="Symbol">=</a><a name="3039"> </a><a name="3040" href="#1823" class="InductiveConstructor">⇒r</a><a name="3042">  </a><a name="3044" class="Symbol">(</a><a name="3045" href="#2975" class="Function">⟹</a><a name="3046"> </a><a name="3047" href="#3033" class="Bound">f</a><a name="3048" class="Symbol">)</a><a name="3049">
    </a><a name="3054" href="#2975" class="Function">⟹</a><a name="3055"> </a><a name="3056" class="Symbol">(</a><a name="3057" href="#1228" class="InductiveConstructor">⇒e</a><a name="3059">  </a><a name="3061" href="#3061" class="Bound">f</a><a name="3062"> </a><a name="3063" href="#3063" class="Bound">g</a><a name="3064" class="Symbol">)</a><a name="3065"> </a><a name="3066" class="Symbol">=</a><a name="3067"> </a><a name="3068" href="#1697" class="InductiveConstructor">cut</a><a name="3071"> </a><a name="3072" class="Symbol">(</a><a name="3073" href="#2975" class="Function">⟹</a><a name="3074"> </a><a name="3075" href="#3061" class="Bound">f</a><a name="3076" class="Symbol">)</a><a name="3077"> </a><a name="3078" class="Symbol">(</a><a name="3079" href="#1756" class="InductiveConstructor">⇒l</a><a name="3081"> </a><a name="3082" class="Symbol">(</a><a name="3083" href="#2975" class="Function">⟹</a><a name="3084"> </a><a name="3085" href="#3063" class="Bound">g</a><a name="3086" class="Symbol">)</a><a name="3087"> </a><a name="3088" href="#2317" class="InductiveConstructor">ax₀</a><a name="3091" class="Symbol">)</a><a name="3092">

    </a><a name="3098" href="#3098" class="Function">⟸</a><a name="3099"> </a><a name="3100" class="Symbol">:</a><a name="3101"> </a><a name="3102" class="Symbol">∀</a><a name="3103"> </a><a name="3104" class="Symbol">{</a><a name="3105" href="#3105" class="Bound">S</a><a name="3106" class="Symbol">}</a><a name="3107"> </a><a name="3108" class="Symbol">→</a><a name="3109"> </a><a name="3110" href="#1626" class="Datatype Operator">SC</a><a name="3112"> </a><a name="3113" href="#3105" class="Bound">S</a><a name="3114"> </a><a name="3115" class="Symbol">→</a><a name="3116"> </a><a name="3117" href="#1111" class="Datatype Operator">ND</a><a name="3119"> </a><a name="3120" href="#3105" class="Bound">S</a><a name="3121">
    </a><a name="3126" href="#3098" class="Function">⟸</a><a name="3127"> </a><a name="3128" class="Symbol">(</a><a name="3129" href="#1656" class="InductiveConstructor">ax</a><a name="3131">  </a><a name="3133" href="#3133" class="Bound">p</a><a name="3134" class="Symbol">)</a><a name="3135">   </a><a name="3138" class="Symbol">=</a><a name="3139"> </a><a name="3140" href="#1141" class="InductiveConstructor">ax</a><a name="3142"> </a><a name="3143" href="#3133" class="Bound">p</a><a name="3144">
    </a><a name="3149" href="#3098" class="Function">⟸</a><a name="3150"> </a><a name="3151" class="Symbol">(</a><a name="3152" href="#1697" class="InductiveConstructor">cut</a><a name="3155"> </a><a name="3156" href="#3156" class="Bound">f</a><a name="3157"> </a><a name="3158" href="#3158" class="Bound">g</a><a name="3159" class="Symbol">)</a><a name="3160"> </a><a name="3161" class="Symbol">=</a><a name="3162"> </a><a name="3163" href="#1228" class="InductiveConstructor">⇒e</a><a name="3165"> </a><a name="3166" class="Symbol">(</a><a name="3167" href="#1179" class="InductiveConstructor">⇒i</a><a name="3169"> </a><a name="3170" class="Symbol">(</a><a name="3171" href="#3098" class="Function">⟸</a><a name="3172"> </a><a name="3173" href="#3158" class="Bound">g</a><a name="3174" class="Symbol">))</a><a name="3176"> </a><a name="3177" class="Symbol">(</a><a name="3178" href="#3098" class="Function">⟸</a><a name="3179"> </a><a name="3180" href="#3156" class="Bound">f</a><a name="3181" class="Symbol">)</a><a name="3182">
    </a><a name="3187" href="#3098" class="Function">⟸</a><a name="3188"> </a><a name="3189" class="Symbol">(</a><a name="3190" href="#1756" class="InductiveConstructor">⇒l</a><a name="3192">  </a><a name="3194" href="#3194" class="Bound">f</a><a name="3195"> </a><a name="3196" href="#3196" class="Bound">g</a><a name="3197" class="Symbol">)</a><a name="3198"> </a><a name="3199" class="Symbol">=</a><a name="3200"> </a><a name="3201" href="#1228" class="InductiveConstructor">⇒e</a><a name="3203"> </a><a name="3204" class="Symbol">(</a><a name="3205" href="#2859" class="Function">weak</a><a name="3209"> </a><a name="3210" class="Symbol">(</a><a name="3211" href="#1179" class="InductiveConstructor">⇒i</a><a name="3213"> </a><a name="3214" class="Symbol">(</a><a name="3215" href="#3098" class="Function">⟸</a><a name="3216"> </a><a name="3217" href="#3196" class="Bound">g</a><a name="3218" class="Symbol">)))</a><a name="3221"> </a><a name="3222" class="Symbol">(</a><a name="3223" href="#1228" class="InductiveConstructor">⇒e</a><a name="3225"> </a><a name="3226" href="#2317" class="InductiveConstructor">ax₀</a><a name="3229"> </a><a name="3230" class="Symbol">(</a><a name="3231" href="#2859" class="Function">weak</a><a name="3235"> </a><a name="3236" class="Symbol">(</a><a name="3237" href="#3098" class="Function">⟸</a><a name="3238"> </a><a name="3239" href="#3194" class="Bound">f</a><a name="3240" class="Symbol">)))</a><a name="3243">
    </a><a name="3248" href="#3098" class="Function">⟸</a><a name="3249"> </a><a name="3250" class="Symbol">(</a><a name="3251" href="#1823" class="InductiveConstructor">⇒r</a><a name="3253">  </a><a name="3255" href="#3255" class="Bound">f</a><a name="3256" class="Symbol">)</a><a name="3257">   </a><a name="3260" class="Symbol">=</a><a name="3261"> </a><a name="3262" href="#1179" class="InductiveConstructor">⇒i</a><a name="3264"> </a><a name="3265" class="Symbol">(</a><a name="3266" href="#3098" class="Function">⟸</a><a name="3267"> </a><a name="3268" href="#3255" class="Bound">f</a><a name="3269" class="Symbol">)</a></pre>

<pre class="Agda"><a name="3296" class="Keyword">open</a><a name="3300"> </a><a name="3301" class="Keyword">import</a><a name="3307"> </a><a name="3308" href="https://agda.github.io/agda-stdlib/Level.html#1" class="Module" target="_blank">Level</a><a name="3313"> </a><a name="3314" class="Keyword">using</a><a name="3319"> </a><a name="3320" class="Symbol">(</a><a name="3321">_⊔_</a><a name="3324" class="Symbol">)</a><a name="3325">

</a><a name="3327" class="Keyword">record</a><a name="3333"> </a><a name="3334" href="#3334" class="Record">Interpret</a><a name="3343"> </a><a name="3344" class="Symbol">{</a><a name="3345" href="#3345" class="Bound">a</a><a name="3346" class="Symbol">}</a><a name="3347"> </a><a name="3348" class="Symbol">{</a><a name="3349" href="#3349" class="Bound">b</a><a name="3350" class="Symbol">}</a><a name="3351"> </a><a name="3352" class="Symbol">(</a><a name="3353" href="#3353" class="Bound">A</a><a name="3354"> </a><a name="3355" class="Symbol">:</a><a name="3356"> </a><a name="3357" class="PrimitiveType">Set</a><a name="3360"> </a><a name="3361" href="#3345" class="Bound">a</a><a name="3362" class="Symbol">)</a><a name="3363"> </a><a name="3364" class="Symbol">(</a><a name="3365" href="#3365" class="Bound">B</a><a name="3366"> </a><a name="3367" class="Symbol">:</a><a name="3368"> </a><a name="3369" class="PrimitiveType">Set</a><a name="3372"> </a><a name="3373" href="#3349" class="Bound">b</a><a name="3374" class="Symbol">)</a><a name="3375"> </a><a name="3376" class="Symbol">:</a><a name="3377"> </a><a name="3378" class="PrimitiveType">Set</a><a name="3381"> </a><a name="3382" class="Symbol">(</a><a name="3383" href="#3345" class="Bound">a</a><a name="3384"> </a><a name="3385" href="https://agda.github.io/agda-stdlib/Agda.Primitive.html#626" class="Primitive Operator" target="_blank">⊔</a><a name="3386"> </a><a name="3387" href="#3349" class="Bound">b</a><a name="3388" class="Symbol">)</a><a name="3389"> </a><a name="3390" class="Keyword">where</a><a name="3395">
  </a><a name="3398" class="Keyword">field</a><a name="3403">
    </a><a name="3408" href="#3408" class="Field Operator">⟦_⟧</a><a name="3411"> </a><a name="3412" class="Symbol">:</a><a name="3413"> </a><a name="3414" href="#3353" class="Bound">A</a><a name="3415"> </a><a name="3416" class="Symbol">→</a><a name="3417"> </a><a name="3418" href="#3365" class="Bound">B</a><a name="3419">
</a><a name="3420" class="Keyword">open</a><a name="3424"> </a><a name="3425" href="#3334" class="Module">Interpret</a><a name="3434"> </a><a name="3435" class="Symbol">{{...}}</a></pre>

<pre class="Agda"><a name="3468" class="Keyword">module</a><a name="3474"> </a><a name="3475" href="#3475" class="Module">SetAntecedent-Interpret</a><a name="3498">
       </a><a name="3506" class="Symbol">(</a><a name="3507" href="#3507" class="Bound">Atom</a><a name="3511"> </a><a name="3512" class="Symbol">:</a><a name="3513"> </a><a name="3514" class="PrimitiveType">Set</a><a name="3517" class="Symbol">)</a><a name="3518"> </a><a name="3519" class="Symbol">(</a><a name="3520" href="#3520" class="Bound">intp</a><a name="3524"> </a><a name="3525" class="Symbol">:</a><a name="3526"> </a><a name="3527" href="#3334" class="Record">Interpret</a><a name="3536"> </a><a name="3537" href="#3507" class="Bound">Atom</a><a name="3541"> </a><a name="3542" class="PrimitiveType">Set</a><a name="3545" class="Symbol">)</a><a name="3546"> </a><a name="3547" class="Keyword">where</a></pre>

<pre class="Agda">  <a name="3580" class="Keyword">open</a><a name="3584"> </a><a name="3585" href="#376" class="Module">SetAntecedent</a><a name="3598"> </a><a name="3599" href="#3507" class="Bound">Atom</a><a name="3603">
  </a><a name="3606" class="Keyword">open</a><a name="3610"> </a><a name="3611" class="Keyword">import</a><a name="3617"> </a><a name="3618" href="https://agda.github.io/agda-stdlib/Data.List.html#1" class="Module" target="_blank">Data.List</a><a name="3627">            </a><a name="3639" class="Keyword">using</a><a name="3644"> </a><a name="3645" class="Symbol">(</a><a name="3646">List</a><a name="3650" class="Symbol">;</a><a name="3651"> _∷_</a><a name="3655" class="Symbol">;</a><a name="3656"> []</a><a name="3659" class="Symbol">;</a><a name="3660"> map</a><a name="3664" class="Symbol">)</a><a name="3665">
  </a><a name="3668" class="Keyword">open</a><a name="3672"> </a><a name="3673" class="Keyword">import</a><a name="3679"> </a><a name="3680" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1" class="Module" target="_blank">Data.List.Any</a><a name="3693">        </a><a name="3701" class="Keyword">using</a><a name="3706"> </a><a name="3707" class="Symbol">(</a><a name="3708" class="Keyword">module</a><a name="3714"> Membership</a><a name="3725" class="Symbol">;</a><a name="3726"> here</a><a name="3731" class="Symbol">;</a><a name="3732"> there</a><a name="3738" class="Symbol">)</a><a name="3739">
  </a><a name="3742" class="Keyword">open</a><a name="3746"> </a><a name="3747" class="Keyword">import</a><a name="3753"> </a><a name="3754" href="https://agda.github.io/agda-stdlib/Function.Equality.html#1" class="Module" target="_blank">Function.Equality</a><a name="3771">    </a><a name="3775" class="Keyword">using</a><a name="3780"> </a><a name="3781" class="Symbol">(</a><a name="3782">_⟨$⟩_</a><a name="3787" class="Symbol">)</a><a name="3788">
  </a><a name="3791" class="Keyword">open</a><a name="3795"> </a><a name="3796" class="Keyword">import</a><a name="3802"> </a><a name="3803" href="https://agda.github.io/agda-stdlib/Function.Equivalence.html#1" class="Module" target="_blank">Function.Equivalence</a><a name="3823"> </a><a name="3824" class="Keyword">using</a><a name="3829"> </a><a name="3830" class="Symbol">(</a><a name="3831" class="Keyword">module</a><a name="3837"> Equivalence</a><a name="3849" class="Symbol">)</a><a name="3850">
  </a><a name="3853" class="Keyword">open</a><a name="3857"> </a><a name="3858" class="Keyword">import</a><a name="3864"> </a><a name="3865" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1" class="Module" target="_blank">Relation.Binary.PropositionalEquality</a><a name="3902">
  </a><a name="3905" class="Keyword">open</a><a name="3909"> </a><a name="3910" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#2298" class="Module" target="_blank">Membership</a><a name="3920"> </a><a name="3921" class="Symbol">(</a><a name="3922" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1526" class="Function" target="_blank">setoid</a><a name="3928"> </a><a name="3929" href="#441" class="Datatype">Type</a><a name="3933" class="Symbol">)</a><a name="3934">    </a><a name="3938" class="Keyword">using</a><a name="3943"> </a><a name="3944" class="Symbol">(</a><a name="3945">_∈_</a><a name="3948" class="Symbol">)</a><a name="3949">
  </a><a name="3952" class="Keyword">open</a><a name="3956"> </a><a name="3957" href="https://agda.github.io/agda-stdlib/Function.Equivalence.html#488" class="Module" target="_blank">Equivalence</a><a name="3968">                 </a><a name="3985" class="Keyword">using</a><a name="3990"> </a><a name="3991" class="Symbol">(</a><a name="3992">to</a><a name="3994" class="Symbol">;</a><a name="3995"> from</a><a name="4000" class="Symbol">)</a></pre>

<pre class="Agda">  <a name="4029" class="Keyword">instance</a><a name="4037">
    </a><a name="4042" href="#4042" class="Function Operator">⟦_:Type⟧</a><a name="4050"> </a><a name="4051" class="Symbol">:</a><a name="4052"> </a><a name="4053" href="#3334" class="Record">Interpret</a><a name="4062"> </a><a name="4063" href="#441" class="Datatype">Type</a><a name="4067"> </a><a name="4068" class="PrimitiveType">Set</a><a name="4071">
    </a><a name="4076" href="#4042" class="Function Operator">⟦_:Type⟧</a><a name="4084"> </a><a name="4085" class="Symbol">=</a><a name="4086"> </a><a name="4087" class="Keyword">record</a><a name="4093"> </a><a name="4094" class="Symbol">{</a><a name="4095"> </a><a name="4096" class="Field Operator">⟦_⟧</a><a name="4099"> </a><a name="4100" class="Symbol">=</a><a name="4101"> </a><a name="4102" href="#4129" class="Function Operator">⟦_⟧′</a><a name="4106"> </a><a name="4107" class="Symbol">}</a><a name="4108">
      </a><a name="4115" class="Keyword">where</a><a name="4120">
        </a><a name="4129" href="#4129" class="Function Operator">⟦_⟧′</a><a name="4133">  </a><a name="4135" class="Symbol">:</a><a name="4136"> </a><a name="4137" href="#441" class="Datatype">Type</a><a name="4141"> </a><a name="4142" class="Symbol">→</a><a name="4143"> </a><a name="4144" class="PrimitiveType">Set</a><a name="4147">
        </a><a name="4156" href="#4129" class="Function Operator">⟦</a><a name="4157"> </a><a name="4158" href="#462" class="InductiveConstructor">El</a><a name="4160">  </a><a name="4162" href="#4162" class="Bound">A</a><a name="4163"> </a><a name="4164" href="#4129" class="Function Operator">⟧′</a><a name="4166"> </a><a name="4167" class="Symbol">=</a><a name="4168"> </a><a name="4169" href="#3408" class="Field Operator">⟦</a><a name="4170"> </a><a name="4171" href="#4162" class="Bound">A</a><a name="4172"> </a><a name="4173" href="#3408" class="Field Operator">⟧</a><a name="4174">
        </a><a name="4183" href="#4129" class="Function Operator">⟦</a><a name="4184"> </a><a name="4185" href="#4185" class="Bound">A</a><a name="4186"> </a><a name="4187" href="#484" class="InductiveConstructor Operator">⇒</a><a name="4188"> </a><a name="4189" href="#4189" class="Bound">B</a><a name="4190"> </a><a name="4191" href="#4129" class="Function Operator">⟧′</a><a name="4193"> </a><a name="4194" class="Symbol">=</a><a name="4195"> </a><a name="4196" href="#4129" class="Function Operator">⟦</a><a name="4197"> </a><a name="4198" href="#4185" class="Bound">A</a><a name="4199"> </a><a name="4200" href="#4129" class="Function Operator">⟧′</a><a name="4202"> </a><a name="4203" class="Symbol">→</a><a name="4204"> </a><a name="4205" href="#4129" class="Function Operator">⟦</a><a name="4206"> </a><a name="4207" href="#4189" class="Bound">B</a><a name="4208"> </a><a name="4209" href="#4129" class="Function Operator">⟧′</a></pre>

<pre class="Agda">  <a name="4239" class="Keyword">data</a><a name="4243"> </a><a name="4244" href="#4244" class="Datatype">Env</a><a name="4247"> </a><a name="4248" class="Symbol">:</a><a name="4249"> </a><a name="4250" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#669" class="Datatype" target="_blank">List</a><a name="4254"> </a><a name="4255" href="#441" class="Datatype">Type</a><a name="4259"> </a><a name="4260" class="Symbol">→</a><a name="4261"> </a><a name="4262" class="PrimitiveType">Set</a><a name="4265"> </a><a name="4266" class="Keyword">where</a><a name="4271">
    </a><a name="4276" href="#4276" class="InductiveConstructor">[]</a><a name="4278">  </a><a name="4280" class="Symbol">:</a><a name="4281"> </a><a name="4282" href="#4244" class="Datatype">Env</a><a name="4285"> </a><a name="4286" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#706" class="InductiveConstructor" target="_blank">[]</a><a name="4288">
    </a><a name="4293" href="#4293" class="InductiveConstructor Operator">_∷_</a><a name="4296"> </a><a name="4297" class="Symbol">:</a><a name="4298"> </a><a name="4299" class="Symbol">{</a><a name="4300" href="#4300" class="Bound">A</a><a name="4301"> </a><a name="4302" class="Symbol">:</a><a name="4303"> </a><a name="4304" href="#441" class="Datatype">Type</a><a name="4308" class="Symbol">}</a><a name="4309"> </a><a name="4310" class="Symbol">{</a><a name="4311" href="#4311" class="Bound">Γ</a><a name="4312"> </a><a name="4313" class="Symbol">:</a><a name="4314"> </a><a name="4315" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#669" class="Datatype" target="_blank">List</a><a name="4319"> </a><a name="4320" href="#441" class="Datatype">Type</a><a name="4324" class="Symbol">}</a><a name="4325">
        </a><a name="4334" class="Symbol">→</a><a name="4335"> </a><a name="4336" href="#3408" class="Field Operator">⟦</a><a name="4337"> </a><a name="4338" href="#4300" class="Bound">A</a><a name="4339"> </a><a name="4340" href="#3408" class="Field Operator">⟧</a><a name="4341"> </a><a name="4342" class="Symbol">→</a><a name="4343"> </a><a name="4344" href="#4244" class="Datatype">Env</a><a name="4347"> </a><a name="4348" href="#4311" class="Bound">Γ</a><a name="4349"> </a><a name="4350" class="Symbol">→</a><a name="4351"> </a><a name="4352" href="#4244" class="Datatype">Env</a><a name="4355"> </a><a name="4356" class="Symbol">(</a><a name="4357" href="#4300" class="Bound">A</a><a name="4358"> </a><a name="4359" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="4360"> </a><a name="4361" href="#4311" class="Bound">Γ</a><a name="4362" class="Symbol">)</a></pre>

<pre class="Agda">  <a name="4391" href="#4391" class="Function">lookup</a><a name="4397"> </a><a name="4398" class="Symbol">:</a><a name="4399"> </a><a name="4400" class="Symbol">∀</a><a name="4401"> </a><a name="4402" class="Symbol">{</a><a name="4403" href="#4403" class="Bound">A</a><a name="4404"> </a><a name="4405" href="#4405" class="Bound">Γ</a><a name="4406" class="Symbol">}</a><a name="4407"> </a><a name="4408" class="Symbol">→</a><a name="4409"> </a><a name="4410" href="#4403" class="Bound">A</a><a name="4411"> </a><a name="4412" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#2920" class="Function Operator" target="_blank">∈</a><a name="4413"> </a><a name="4414" href="#4405" class="Bound">Γ</a><a name="4415"> </a><a name="4416" class="Symbol">→</a><a name="4417"> </a><a name="4418" href="#4244" class="Datatype">Env</a><a name="4421"> </a><a name="4422" href="#4405" class="Bound">Γ</a><a name="4423"> </a><a name="4424" class="Symbol">→</a><a name="4425"> </a><a name="4426" href="#3408" class="Field Operator">⟦</a><a name="4427"> </a><a name="4428" href="#4403" class="Bound">A</a><a name="4429"> </a><a name="4430" href="#3408" class="Field Operator">⟧</a><a name="4431">
  </a><a name="4434" href="#4391" class="Function">lookup</a><a name="4440"> </a><a name="4441" class="Symbol">(</a><a name="4442" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1174" class="InductiveConstructor" target="_blank">here</a><a name="4446">  </a><a name="4448" href="#4448" class="Bound">p</a><a name="4449" class="Symbol">)</a><a name="4450"> </a><a name="4451" class="Symbol">(</a><a name="4452" href="#4452" class="Bound">x</a><a name="4453"> </a><a name="4454" href="#4293" class="InductiveConstructor Operator">∷</a><a name="4455"> </a><a name="4456" class="Symbol">_)</a><a name="4458"> </a><a name="4459" class="Keyword">rewrite</a><a name="4466"> </a><a name="4467" href="#4448" class="Bound">p</a><a name="4468"> </a><a name="4469" class="Symbol">=</a><a name="4470"> </a><a name="4471" href="#4452" class="Bound">x</a><a name="4472">
  </a><a name="4475" href="#4391" class="Function">lookup</a><a name="4481"> </a><a name="4482" class="Symbol">(</a><a name="4483" href="https://agda.github.io/agda-stdlib/Data.List.Any.html#1227" class="InductiveConstructor" target="_blank">there</a><a name="4488"> </a><a name="4489" href="#4489" class="Bound">p</a><a name="4490" class="Symbol">)</a><a name="4491"> </a><a name="4492" class="Symbol">(_</a><a name="4494"> </a><a name="4495" href="#4293" class="InductiveConstructor Operator">∷</a><a name="4496"> </a><a name="4497" href="#4497" class="Bound">e</a><a name="4498" class="Symbol">)</a><a name="4499"> </a><a name="4500" class="Symbol">=</a><a name="4501"> </a><a name="4502" href="#4391" class="Function">lookup</a><a name="4508"> </a><a name="4509" href="#4489" class="Bound">p</a><a name="4510"> </a><a name="4511" href="#4497" class="Bound">e</a></pre>

<pre class="Agda">  <a name="4540" class="Keyword">instance</a><a name="4548">
    </a><a name="4553" href="#4553" class="Function Operator">⟦_:Sequent⟧</a><a name="4564"> </a><a name="4565" class="Symbol">:</a><a name="4566"> </a><a name="4567" href="#3334" class="Record">Interpret</a><a name="4576"> </a><a name="4577" href="#1007" class="Datatype">Sequent</a><a name="4584"> </a><a name="4585" class="PrimitiveType">Set</a><a name="4588">
    </a><a name="4593" href="#4553" class="Function Operator">⟦_:Sequent⟧</a><a name="4604"> </a><a name="4605" class="Symbol">=</a><a name="4606"> </a><a name="4607" class="Keyword">record</a><a name="4613"> </a><a name="4614" class="Symbol">{</a><a name="4615"> </a><a name="4616" class="Field Operator">⟦_⟧</a><a name="4619"> </a><a name="4620" class="Symbol">=</a><a name="4621"> </a><a name="4622" href="#4649" class="Function Operator">⟦_⟧′</a><a name="4626"> </a><a name="4627" class="Symbol">}</a><a name="4628">
      </a><a name="4635" class="Keyword">where</a><a name="4640">
        </a><a name="4649" href="#4649" class="Function Operator">⟦_⟧′</a><a name="4653"> </a><a name="4654" class="Symbol">:</a><a name="4655"> </a><a name="4656" href="#1007" class="Datatype">Sequent</a><a name="4663"> </a><a name="4664" class="Symbol">→</a><a name="4665"> </a><a name="4666" class="PrimitiveType">Set</a><a name="4669">
        </a><a name="4678" href="#4649" class="Function Operator">⟦</a><a name="4679"> </a><a name="4680" href="#4680" class="Bound">Γ</a><a name="4681"> </a><a name="4682" href="#1031" class="InductiveConstructor Operator">⊢</a><a name="4683"> </a><a name="4684" href="#4684" class="Bound">A</a><a name="4685"> </a><a name="4686" href="#4649" class="Function Operator">⟧′</a><a name="4688"> </a><a name="4689" class="Symbol">=</a><a name="4690"> </a><a name="4691" href="#4244" class="Datatype">Env</a><a name="4694"> </a><a name="4695" href="#4680" class="Bound">Γ</a><a name="4696"> </a><a name="4697" class="Symbol">→</a><a name="4698"> </a><a name="4699" href="#3408" class="Field Operator">⟦</a><a name="4700"> </a><a name="4701" href="#4684" class="Bound">A</a><a name="4702"> </a><a name="4703" href="#3408" class="Field Operator">⟧</a></pre>

<pre class="Agda">  <a name="4732" class="Keyword">instance</a><a name="4740">
    </a><a name="4745" href="#4745" class="Function Operator">⟦_:ND⟧</a><a name="4751"> </a><a name="4752" class="Symbol">:</a><a name="4753"> </a><a name="4754" class="Symbol">∀</a><a name="4755"> </a><a name="4756" class="Symbol">{</a><a name="4757" href="#4757" class="Bound">S</a><a name="4758" class="Symbol">}</a><a name="4759"> </a><a name="4760" class="Symbol">→</a><a name="4761"> </a><a name="4762" href="#3334" class="Record">Interpret</a><a name="4771"> </a><a name="4772" class="Symbol">(</a><a name="4773" href="#1111" class="Datatype Operator">ND</a><a name="4775"> </a><a name="4776" href="#4757" class="Bound">S</a><a name="4777" class="Symbol">)</a><a name="4778"> </a><a name="4779" href="#3408" class="Field Operator">⟦</a><a name="4780"> </a><a name="4781" href="#4757" class="Bound">S</a><a name="4782"> </a><a name="4783" href="#3408" class="Field Operator">⟧</a><a name="4784">
    </a><a name="4789" href="#4745" class="Function Operator">⟦_:ND⟧</a><a name="4795"> </a><a name="4796" class="Symbol">=</a><a name="4797"> </a><a name="4798" class="Keyword">record</a><a name="4804"> </a><a name="4805" class="Symbol">{</a><a name="4806"> </a><a name="4807" class="Field Operator">⟦_⟧</a><a name="4810"> </a><a name="4811" class="Symbol">=</a><a name="4812"> </a><a name="4813" href="#4840" class="Function Operator">⟦_⟧′</a><a name="4817"> </a><a name="4818" class="Symbol">}</a><a name="4819">
      </a><a name="4826" class="Keyword">where</a><a name="4831">
        </a><a name="4840" href="#4840" class="Function Operator">⟦_⟧′</a><a name="4844"> </a><a name="4845" class="Symbol">:</a><a name="4846"> </a><a name="4847" class="Symbol">∀</a><a name="4848"> </a><a name="4849" class="Symbol">{</a><a name="4850" href="#4850" class="Bound">S</a><a name="4851" class="Symbol">}</a><a name="4852"> </a><a name="4853" class="Symbol">→</a><a name="4854"> </a><a name="4855" href="#1111" class="Datatype Operator">ND</a><a name="4857"> </a><a name="4858" href="#4850" class="Bound">S</a><a name="4859"> </a><a name="4860" class="Symbol">→</a><a name="4861"> </a><a name="4862" href="#3408" class="Field Operator">⟦</a><a name="4863"> </a><a name="4864" href="#4850" class="Bound">S</a><a name="4865"> </a><a name="4866" href="#3408" class="Field Operator">⟧</a><a name="4867">
        </a><a name="4876" href="#4840" class="Function Operator">⟦</a><a name="4877"> </a><a name="4878" href="#1141" class="InductiveConstructor">ax</a><a name="4880"> </a><a name="4881" href="#4881" class="Bound">p</a><a name="4882">   </a><a name="4885" href="#4840" class="Function Operator">⟧′</a><a name="4887"> </a><a name="4888" href="#4888" class="Bound">e</a><a name="4889"> </a><a name="4890" class="Symbol">=</a><a name="4891"> </a><a name="4892" href="#4391" class="Function">lookup</a><a name="4898"> </a><a name="4899" href="#4881" class="Bound">p</a><a name="4900"> </a><a name="4901" href="#4888" class="Bound">e</a><a name="4902">
        </a><a name="4911" href="#4840" class="Function Operator">⟦</a><a name="4912"> </a><a name="4913" href="#1179" class="InductiveConstructor">⇒i</a><a name="4915"> </a><a name="4916" href="#4916" class="Bound">f</a><a name="4917">   </a><a name="4920" href="#4840" class="Function Operator">⟧′</a><a name="4922"> </a><a name="4923" href="#4923" class="Bound">e</a><a name="4924"> </a><a name="4925" class="Symbol">=</a><a name="4926"> </a><a name="4927" class="Symbol">λ</a><a name="4928"> </a><a name="4929" href="#4929" class="Bound">x</a><a name="4930"> </a><a name="4931" class="Symbol">→</a><a name="4932"> </a><a name="4933" href="#4840" class="Function Operator">⟦</a><a name="4934"> </a><a name="4935" href="#4916" class="Bound">f</a><a name="4936"> </a><a name="4937" href="#4840" class="Function Operator">⟧′</a><a name="4939"> </a><a name="4940" class="Symbol">(</a><a name="4941" href="#4929" class="Bound">x</a><a name="4942"> </a><a name="4943" href="#4293" class="InductiveConstructor Operator">∷</a><a name="4944"> </a><a name="4945" href="#4923" class="Bound">e</a><a name="4946" class="Symbol">)</a><a name="4947">
        </a><a name="4956" href="#4840" class="Function Operator">⟦</a><a name="4957"> </a><a name="4958" href="#1228" class="InductiveConstructor">⇒e</a><a name="4960"> </a><a name="4961" href="#4961" class="Bound">f</a><a name="4962"> </a><a name="4963" href="#4963" class="Bound">g</a><a name="4964"> </a><a name="4965" href="#4840" class="Function Operator">⟧′</a><a name="4967"> </a><a name="4968" href="#4968" class="Bound">e</a><a name="4969"> </a><a name="4970" class="Symbol">=</a><a name="4971"> </a><a name="4972" class="Symbol">(</a><a name="4973" href="#4840" class="Function Operator">⟦</a><a name="4974"> </a><a name="4975" href="#4961" class="Bound">f</a><a name="4976"> </a><a name="4977" href="#4840" class="Function Operator">⟧′</a><a name="4979"> </a><a name="4980" href="#4968" class="Bound">e</a><a name="4981" class="Symbol">)</a><a name="4982"> </a><a name="4983" class="Symbol">(</a><a name="4984" href="#4840" class="Function Operator">⟦</a><a name="4985"> </a><a name="4986" href="#4963" class="Bound">g</a><a name="4987"> </a><a name="4988" href="#4840" class="Function Operator">⟧′</a><a name="4990"> </a><a name="4991" href="#4968" class="Bound">e</a><a name="4992" class="Symbol">)</a></pre>

<pre class="Agda">  <a name="5021" href="#5021" class="Function">head</a><a name="5025"> </a><a name="5026" class="Symbol">:</a><a name="5027"> </a><a name="5028" class="Symbol">∀</a><a name="5029"> </a><a name="5030" class="Symbol">{</a><a name="5031" href="#5031" class="Bound">A</a><a name="5032"> </a><a name="5033" href="#5033" class="Bound">Γ</a><a name="5034" class="Symbol">}</a><a name="5035"> </a><a name="5036" class="Symbol">→</a><a name="5037"> </a><a name="5038" href="#4244" class="Datatype">Env</a><a name="5041"> </a><a name="5042" class="Symbol">(</a><a name="5043" href="#5031" class="Bound">A</a><a name="5044"> </a><a name="5045" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="5046"> </a><a name="5047" href="#5033" class="Bound">Γ</a><a name="5048" class="Symbol">)</a><a name="5049"> </a><a name="5050" class="Symbol">→</a><a name="5051"> </a><a name="5052" href="#3408" class="Field Operator">⟦</a><a name="5053"> </a><a name="5054" href="#5031" class="Bound">A</a><a name="5055"> </a><a name="5056" href="#3408" class="Field Operator">⟧</a><a name="5057">
  </a><a name="5060" href="#5021" class="Function">head</a><a name="5064"> </a><a name="5065" class="Symbol">(</a><a name="5066" href="#5066" class="Bound">x</a><a name="5067"> </a><a name="5068" href="#4293" class="InductiveConstructor Operator">∷</a><a name="5069"> </a><a name="5070" class="Symbol">_)</a><a name="5072"> </a><a name="5073" class="Symbol">=</a><a name="5074"> </a><a name="5075" href="#5066" class="Bound">x</a><a name="5076">

  </a><a name="5080" href="#5080" class="Function">tail</a><a name="5084"> </a><a name="5085" class="Symbol">:</a><a name="5086"> </a><a name="5087" class="Symbol">∀</a><a name="5088"> </a><a name="5089" class="Symbol">{</a><a name="5090" href="#5090" class="Bound">A</a><a name="5091"> </a><a name="5092" href="#5092" class="Bound">Γ</a><a name="5093" class="Symbol">}</a><a name="5094"> </a><a name="5095" class="Symbol">→</a><a name="5096"> </a><a name="5097" href="#4244" class="Datatype">Env</a><a name="5100"> </a><a name="5101" class="Symbol">(</a><a name="5102" href="#5090" class="Bound">A</a><a name="5103"> </a><a name="5104" href="https://agda.github.io/agda-stdlib/Data.List.Base.html#721" class="InductiveConstructor Operator" target="_blank">∷</a><a name="5105"> </a><a name="5106" href="#5092" class="Bound">Γ</a><a name="5107" class="Symbol">)</a><a name="5108"> </a><a name="5109" class="Symbol">→</a><a name="5110"> </a><a name="5111" href="#4244" class="Datatype">Env</a><a name="5114"> </a><a name="5115" href="#5092" class="Bound">Γ</a><a name="5116">
  </a><a name="5119" href="#5080" class="Function">tail</a><a name="5123"> </a><a name="5124" class="Symbol">(_</a><a name="5126"> </a><a name="5127" href="#4293" class="InductiveConstructor Operator">∷</a><a name="5128"> </a><a name="5129" href="#5129" class="Bound">e</a><a name="5130" class="Symbol">)</a><a name="5131"> </a><a name="5132" class="Symbol">=</a><a name="5133"> </a><a name="5134" href="#5129" class="Bound">e</a></pre>

<pre class="Agda">  <a name="5163" class="Keyword">instance</a><a name="5171">
    </a><a name="5176" href="#5176" class="Function Operator">⟦_:SC⟧</a><a name="5182"> </a><a name="5183" class="Symbol">:</a><a name="5184"> </a><a name="5185" class="Symbol">∀</a><a name="5186"> </a><a name="5187" class="Symbol">{</a><a name="5188" href="#5188" class="Bound">S</a><a name="5189" class="Symbol">}</a><a name="5190"> </a><a name="5191" class="Symbol">→</a><a name="5192"> </a><a name="5193" href="#3334" class="Record">Interpret</a><a name="5202"> </a><a name="5203" class="Symbol">(</a><a name="5204" href="#1626" class="Datatype Operator">SC</a><a name="5206"> </a><a name="5207" href="#5188" class="Bound">S</a><a name="5208" class="Symbol">)</a><a name="5209"> </a><a name="5210" href="#3408" class="Field Operator">⟦</a><a name="5211"> </a><a name="5212" href="#5188" class="Bound">S</a><a name="5213"> </a><a name="5214" href="#3408" class="Field Operator">⟧</a><a name="5215">
    </a><a name="5220" href="#5176" class="Function Operator">⟦_:SC⟧</a><a name="5226"> </a><a name="5227" class="Symbol">=</a><a name="5228"> </a><a name="5229" class="Keyword">record</a><a name="5235"> </a><a name="5236" class="Symbol">{</a><a name="5237"> </a><a name="5238" class="Field Operator">⟦_⟧</a><a name="5241"> </a><a name="5242" class="Symbol">=</a><a name="5243"> </a><a name="5244" href="#5271" class="Function Operator">⟦_⟧′</a><a name="5248"> </a><a name="5249" class="Symbol">}</a><a name="5250">
      </a><a name="5257" class="Keyword">where</a><a name="5262">
        </a><a name="5271" href="#5271" class="Function Operator">⟦_⟧′</a><a name="5275"> </a><a name="5276" class="Symbol">:</a><a name="5277"> </a><a name="5278" class="Symbol">∀</a><a name="5279"> </a><a name="5280" class="Symbol">{</a><a name="5281" href="#5281" class="Bound">S</a><a name="5282" class="Symbol">}</a><a name="5283"> </a><a name="5284" class="Symbol">→</a><a name="5285"> </a><a name="5286" href="#1626" class="Datatype Operator">SC</a><a name="5288"> </a><a name="5289" href="#5281" class="Bound">S</a><a name="5290"> </a><a name="5291" class="Symbol">→</a><a name="5292"> </a><a name="5293" href="#3408" class="Field Operator">⟦</a><a name="5294"> </a><a name="5295" href="#5281" class="Bound">S</a><a name="5296"> </a><a name="5297" href="#3408" class="Field Operator">⟧</a><a name="5298">
        </a><a name="5307" href="#5271" class="Function Operator">⟦</a><a name="5308"> </a><a name="5309" href="#1656" class="InductiveConstructor">ax</a><a name="5311">  </a><a name="5313" href="#5313" class="Bound">p</a><a name="5314">   </a><a name="5317" href="#5271" class="Function Operator">⟧′</a><a name="5319"> </a><a name="5320" href="#5320" class="Bound">e</a><a name="5321"> </a><a name="5322" class="Symbol">=</a><a name="5323"> </a><a name="5324" href="#4391" class="Function">lookup</a><a name="5330"> </a><a name="5331" href="#5313" class="Bound">p</a><a name="5332"> </a><a name="5333" href="#5320" class="Bound">e</a><a name="5334">
        </a><a name="5343" href="#5271" class="Function Operator">⟦</a><a name="5344"> </a><a name="5345" href="#1697" class="InductiveConstructor">cut</a><a name="5348"> </a><a name="5349" href="#5349" class="Bound">f</a><a name="5350"> </a><a name="5351" href="#5351" class="Bound">g</a><a name="5352"> </a><a name="5353" href="#5271" class="Function Operator">⟧′</a><a name="5355"> </a><a name="5356" href="#5356" class="Bound">e</a><a name="5357"> </a><a name="5358" class="Symbol">=</a><a name="5359"> </a><a name="5360" href="#5271" class="Function Operator">⟦</a><a name="5361"> </a><a name="5362" href="#5351" class="Bound">g</a><a name="5363"> </a><a name="5364" href="#5271" class="Function Operator">⟧′</a><a name="5366"> </a><a name="5367" class="Symbol">(</a><a name="5368" href="#5271" class="Function Operator">⟦</a><a name="5369"> </a><a name="5370" href="#5349" class="Bound">f</a><a name="5371"> </a><a name="5372" href="#5271" class="Function Operator">⟧′</a><a name="5374"> </a><a name="5375" href="#5356" class="Bound">e</a><a name="5376"> </a><a name="5377" href="#4293" class="InductiveConstructor Operator">∷</a><a name="5378"> </a><a name="5379" href="#5356" class="Bound">e</a><a name="5380" class="Symbol">)</a><a name="5381">
        </a><a name="5390" href="#5271" class="Function Operator">⟦</a><a name="5391"> </a><a name="5392" href="#1756" class="InductiveConstructor">⇒l</a><a name="5394">  </a><a name="5396" href="#5396" class="Bound">f</a><a name="5397"> </a><a name="5398" href="#5398" class="Bound">g</a><a name="5399"> </a><a name="5400" href="#5271" class="Function Operator">⟧′</a><a name="5402"> </a><a name="5403" href="#5403" class="Bound">e</a><a name="5404"> </a><a name="5405" class="Symbol">=</a><a name="5406"> </a><a name="5407" href="#5271" class="Function Operator">⟦</a><a name="5408"> </a><a name="5409" href="#5398" class="Bound">g</a><a name="5410"> </a><a name="5411" href="#5271" class="Function Operator">⟧′</a><a name="5413"> </a><a name="5414" class="Symbol">(</a><a name="5415" href="#5021" class="Function">head</a><a name="5419"> </a><a name="5420" href="#5403" class="Bound">e</a><a name="5421"> </a><a name="5422" class="Symbol">(</a><a name="5423" href="#5271" class="Function Operator">⟦</a><a name="5424"> </a><a name="5425" href="#5396" class="Bound">f</a><a name="5426"> </a><a name="5427" href="#5271" class="Function Operator">⟧′</a><a name="5429"> </a><a name="5430" class="Symbol">(</a><a name="5431" href="#5080" class="Function">tail</a><a name="5435"> </a><a name="5436" href="#5403" class="Bound">e</a><a name="5437" class="Symbol">))</a><a name="5439"> </a><a name="5440" href="#4293" class="InductiveConstructor Operator">∷</a><a name="5441"> </a><a name="5442" href="#5080" class="Function">tail</a><a name="5446"> </a><a name="5447" href="#5403" class="Bound">e</a><a name="5448" class="Symbol">)</a><a name="5449">
        </a><a name="5458" href="#5271" class="Function Operator">⟦</a><a name="5459"> </a><a name="5460" href="#1823" class="InductiveConstructor">⇒r</a><a name="5462">  </a><a name="5464" href="#5464" class="Bound">f</a><a name="5465">   </a><a name="5468" href="#5271" class="Function Operator">⟧′</a><a name="5470"> </a><a name="5471" href="#5471" class="Bound">e</a><a name="5472"> </a><a name="5473" class="Symbol">=</a><a name="5474"> </a><a name="5475" class="Symbol">λ</a><a name="5476"> </a><a name="5477" href="#5477" class="Bound">x</a><a name="5478"> </a><a name="5479" class="Symbol">→</a><a name="5480"> </a><a name="5481" href="#5271" class="Function Operator">⟦</a><a name="5482"> </a><a name="5483" href="#5464" class="Bound">f</a><a name="5484"> </a><a name="5485" href="#5271" class="Function Operator">⟧′</a><a name="5487"> </a><a name="5488" class="Symbol">(</a><a name="5489" href="#5477" class="Bound">x</a><a name="5490"> </a><a name="5491" href="#4293" class="InductiveConstructor Operator">∷</a><a name="5492"> </a><a name="5493" href="#5471" class="Bound">e</a><a name="5494" class="Symbol">)</a></pre>

<pre class="Agda">  <a name="5523" class="Keyword">module</a><a name="5529"> </a><a name="5530" href="#5530" class="Module">⟦ND⟧⇔⟦SC⟧</a><a name="5539"> </a><a name="5540" class="Keyword">where</a><a name="5545">

    </a><a name="5551" href="#5551" class="Function">⟹</a><a name="5552"> </a><a name="5553" class="Symbol">:</a><a name="5554"> </a><a name="5555" class="Symbol">∀</a><a name="5556"> </a><a name="5557" class="Symbol">{</a><a name="5558" href="#5558" class="Bound">S</a><a name="5559" class="Symbol">}</a><a name="5560"> </a><a name="5561" class="Symbol">(</a><a name="5562" href="#5562" class="Bound">f</a><a name="5563"> </a><a name="5564" class="Symbol">:</a><a name="5565"> </a><a name="5566" href="#1111" class="Datatype Operator">ND</a><a name="5568"> </a><a name="5569" href="#5558" class="Bound">S</a><a name="5570" class="Symbol">)</a><a name="5571"> </a><a name="5572" class="Symbol">→</a><a name="5573"> </a><a name="5574" href="#3408" class="Field Operator">⟦</a><a name="5575"> </a><a name="5576" href="#5562" class="Bound">f</a><a name="5577"> </a><a name="5578" href="#3408" class="Field Operator">⟧</a><a name="5579"> </a><a name="5580" href="https://agda.github.io/agda-stdlib/Relation.Binary.Core.html#4497" class="Datatype Operator" target="_blank">≡</a><a name="5581"> </a><a name="5582" href="#3408" class="Field Operator">⟦</a><a name="5583"> </a><a name="5584" href="#2975" class="Function">ND⇔SC.⟹</a><a name="5591"> </a><a name="5592" href="#5562" class="Bound">f</a><a name="5593"> </a><a name="5594" href="#3408" class="Field Operator">⟧</a><a name="5595">
    </a><a name="5600" href="#5551" class="Function">⟹</a><a name="5601"> </a><a name="5602" class="Symbol">(</a><a name="5603" href="#1141" class="InductiveConstructor">ax</a><a name="5605"> </a><a name="5606" class="Symbol">_)</a><a name="5608">   </a><a name="5611" class="Symbol">=</a><a name="5612"> </a><a name="5613" href="https://agda.github.io/agda-stdlib/Relation.Binary.Core.html#4547" class="InductiveConstructor" target="_blank">refl</a><a name="5617">
    </a><a name="5622" href="#5551" class="Function">⟹</a><a name="5623"> </a><a name="5624" class="Symbol">(</a><a name="5625" href="#1179" class="InductiveConstructor">⇒i</a><a name="5627"> </a><a name="5628" href="#5628" class="Bound">f</a><a name="5629" class="Symbol">)</a><a name="5630">   </a><a name="5633" class="Symbol">=</a><a name="5634"> </a><a name="5635" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1036" class="Function" target="_blank">cong</a><a name="5639">  </a><a name="5641" class="Symbol">(λ</a><a name="5643"> </a><a name="5644" href="#5644" class="Bound">f</a><a name="5645"> </a><a name="5646" href="#5646" class="Bound">e</a><a name="5647"> </a><a name="5648" href="#5648" class="Bound">x</a><a name="5649"> </a><a name="5650" class="Symbol">→</a><a name="5651"> </a><a name="5652" href="#5644" class="Bound">f</a><a name="5653"> </a><a name="5654" class="Symbol">(</a><a name="5655" href="#5648" class="Bound">x</a><a name="5656"> </a><a name="5657" href="#4293" class="InductiveConstructor Operator">∷</a><a name="5658"> </a><a name="5659" href="#5646" class="Bound">e</a><a name="5660" class="Symbol">))</a><a name="5662"> </a><a name="5663" class="Symbol">(</a><a name="5664" href="#5551" class="Function">⟹</a><a name="5665"> </a><a name="5666" href="#5628" class="Bound">f</a><a name="5667" class="Symbol">)</a><a name="5668">
    </a><a name="5673" href="#5551" class="Function">⟹</a><a name="5674"> </a><a name="5675" class="Symbol">(</a><a name="5676" href="#1228" class="InductiveConstructor">⇒e</a><a name="5678"> </a><a name="5679" href="#5679" class="Bound">f</a><a name="5680"> </a><a name="5681" href="#5681" class="Bound">g</a><a name="5682" class="Symbol">)</a><a name="5683"> </a><a name="5684" class="Symbol">=</a><a name="5685"> </a><a name="5686" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1274" class="Function" target="_blank">cong₂</a><a name="5691"> </a><a name="5692" class="Symbol">(λ</a><a name="5694"> </a><a name="5695" href="#5695" class="Bound">f</a><a name="5696"> </a><a name="5697" href="#5697" class="Bound">g</a><a name="5698"> </a><a name="5699" href="#5699" class="Bound">e</a><a name="5700"> </a><a name="5701" class="Symbol">→</a><a name="5702"> </a><a name="5703" href="#5695" class="Bound">f</a><a name="5704"> </a><a name="5705" href="#5699" class="Bound">e</a><a name="5706"> </a><a name="5707" class="Symbol">(</a><a name="5708" href="#5697" class="Bound">g</a><a name="5709"> </a><a name="5710" href="#5699" class="Bound">e</a><a name="5711" class="Symbol">))</a><a name="5713"> </a><a name="5714" class="Symbol">(</a><a name="5715" href="#5551" class="Function">⟹</a><a name="5716"> </a><a name="5717" href="#5679" class="Bound">f</a><a name="5718" class="Symbol">)</a><a name="5719"> </a><a name="5720" class="Symbol">(</a><a name="5721" href="#5551" class="Function">⟹</a><a name="5722"> </a><a name="5723" href="#5681" class="Bound">g</a><a name="5724" class="Symbol">)</a><a name="5725">

</a><a name="5727" class="Comment">--  ⟸ : ∀ {S} (f : SC S) → ⟦ f ⟧ ≡ ⟦ ND⇔SC.⟸ f ⟧</a><a name="5775">
</a><a name="5776" class="Comment">--  ⟸ (ax  _)   = refl</a><a name="5798">
</a><a name="5799" class="Comment">--  ⟸ (cut f g) = cong₂ (λ f g e → g (f e ∷ e)) (⟸ f) (⟸ g)</a><a name="5858">
</a><a name="5859" class="Comment">--  ⟸ (⇒l  f g) = {!!}</a><a name="5881">
</a><a name="5882" class="Comment">--  ⟸ (⇒r  f)   = cong  (λ f e x → f (x ∷ e)) (⟸ f)</a></pre>


